---
toc_max_heading_level: 4
---

# Overview

Projects often encounter a constraint or requirement which make free-tier hosted CI/CD runners
insufficient for their needs. In these cases hosting your own CI/CD runner can be a viable
alternative to premium-tier services or subscriptions. Self-hosting may also provide access to
resources that are simply not available on many CI/CD services such as GPUs, faster drives, and
newer CPU models.

This guide will cover two basic methods for hosting CI/CD runners: Bare-Metal and Virtual Machines.
Containerized hosts will not be discussed because of their inherent reliance on insecure practices
such as
[Docker-in-Docker](http://jpetazzo.github.io/2015/09/03/do-not-use-docker-in-docker-for-ci/),
[Privileged Containers](https://www.trendmicro.com/en_th/research/19/l/why-running-a-privileged-container-in-docker-is-a-bad-idea.html)
and the additional tooling required to mitigate those risks such as
[Kaniko](https://github.com/GoogleContainerTools/kaniko) or
[Kata Containers](https://katacontainers.io/).

## Constraints

There are many ways to self-host CI/CD runners, and which one is best for you will depend on your on
situation and constraints. For the purpose of this guide we will make the following assumptions:

- üíª User already has their own hardware
- üí∏ Budget is $0
- üõ†Ô∏è FOSS tools should be prioritized where possible
- üìú We define `Self-Hosting` in this context to refer to a user taking responsibility for the
  operating-system level configuration and life-cycle-management of a given compute resource (metal,
  on-prem, cloud VM, VPS etc...)

## Requirements

This guide is tested on devices which meet the following requirements:

- x86 or amd64 processor
- Ubuntu 22.04 LTS Server or Debian 12 Bookworm
- Root access to the operating system
- Network connectivity

## Host Creation Guides

"Host Creation" in this context is the process for installing an operating system onto a piece of
physical (also called "Bare Metal") or virtualised hardware. Instructions for installation on OS on
a bare-metal host and guides for creating virtual machines can be found in the 'Host Creation'
directory.

## Host Provisioning Guides

"Provisioning" here refers to the process of installing additional resources onto, and the
configuration of your host beyond installing the base operating-system. Once you can sign into your
VM or Bare-Metal host, follow the appropriate guide to complete the provisioning process.

- [Ubuntu 22.04 Setup](./04-host-provisioning/02-ubuntu-setup.mdx)

- [Debian 12 Setup](./04-host-provisioning/01-debian-setup.mdx)

## Runner Application Installation

Once your host has been provisioned, you will then need to install the appropriate runner
application. The guides below will walk you through that process.

- [Github Actions](./05-runner-application-installation/02-github-actions.mdx)

- [GitLab Pipelines](./05-runner-application-installation/01-gitlab-pipelines.mdx)

## Declarative workflow using Cloud-Init (Advanced)

Cloud-Init is a software package that automates the initialization of cloud instances during system
boot and has become the industry standard solution for operating system customization. Cloud-Init is
directly integrated into nearly every operating system which publishes a cloud-image, as well as
supported by most cloud-providers and virtual machine managers. Cloud-Init can also provision
bare-metal systems running Ubuntu.

- Create custom Ubuntu installation images based on cloud-init using
  [PXEless](https://github.com/cloudymax/pxeless)
- Using cloud-init with Multipass for automated provisioning
- Use your cloud-init config to deploy VMs in the cloud
